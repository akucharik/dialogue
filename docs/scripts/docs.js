(()=>{"use strict";class e{constructor(e,t=0,s=0){this.delay=0,this.speed=0,this.text="",this.text=e,this.speed=t,this.delay=s}}class t{constructor(t,s=0,r=0){this.delay=0,this.speed=0,this.letters=[],this.speed=s,this.delay=r;const n=Array.from(t);this.letters=n.map(((t,n)=>0===n?new e(t,s,r):new e(t,s)))}}class s{constructor(e,t=0,s=0){this.delay=0,this.speed=0,this.words=[],this.words=e,this.speed=t,this.delay=s}}class r{constructor(e){this.paragraphs=[],this.paragraphs=e}}class n{constructor(e){this.element=document.createElement("span"),this.element.classList.add("dia-dialogue__character")," "===e.text&&this.element.classList.add("dia-dialogue__character--space"),this.letter=e}render(){return this.element.appendChild(document.createTextNode(this.letter.text)),this}}class a{constructor(e){this.letterRenderers=[],this.element=document.createElement("span"),this.element.classList.add("dia-dialogue__word"),this.word=e}render(){return this.word.letters.forEach((e=>{const t=new n(e);this.element.appendChild(t.render().element),this.letterRenderers.push(t)})),this}}class i{constructor(e){this.letterRenderers=[],this.wordRenderers=[],this.element=document.createElement("p"),this.element.classList.add("dia-dialogue__paragraph"),this.paragraph=e}render(){return this.paragraph.words.forEach(((e,t)=>{const s=new a(e);this.element.appendChild(s.render().element),t!==this.paragraph.words.length-1&&this.element.appendChild(document.createTextNode(" ")),this.wordRenderers.push(s),this.letterRenderers=this.letterRenderers.concat(s.letterRenderers)})),this}}class d{constructor(e,t){this.letterRenderers=[],this.paragraphRenderers=[],this.dialogue=e,this.element=t}render(){this.dialogue.paragraphs.forEach((e=>{const t=new i(e);this.element.appendChild(t.render().element),this.paragraphRenderers.push(t),this.letterRenderers=this.letterRenderers.concat(t.letterRenderers)}));let e=window.gsap.timeline();return this.letterRenderers.forEach(((t,s)=>{const r=.02*s,n=window.gsap.timeline(),a=window.CustomEase.create("custom","M0,0 C0.34,0.114 0.362,0.902 0.362,1 0.37,0.985 0.414,0.873 0.455,0.811 0.51,0.726 0.573,0.753 0.586,0.762 0.662,0.812 0.719,0.981 0.726,0.998 0.788,0.914 0.84,0.936 0.859,0.95 0.878,0.964 0.897,0.985 0.911,0.998 0.922,0.994 0.939,0.984 0.954,0.984 0.969,0.984 1,1 1,1 ");n.set(t.element,{opacity:1}).from(t.element,{duration:.95,y:-10,ease:a}),e.add(n,r)})),this}}(()=>{const e=new t("Hi...",50),n=new t("I'm dialogue.",50,750),a=new t("And I'm a second line.",50,1e3),i=new s([e,n]),h=new s([a]),l=new r([i,h]),c=document.getElementById("dialogue");c&&new d(l,c).render()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixLQUFLYSxRQUFRTSxZQUFZaUIsRUFBa0JsQixTQUFTTCxTQUNwRGIsS0FBS21DLG1CQUFtQlQsS0FBS1UsR0FDN0JwQyxLQUFLdUIsZ0JBQWtCdkIsS0FBS3VCLGdCQUFnQlMsT0FDMUNJLEVBQWtCYixvQkFLdEIsSUFBSWMsRUFBV0MsT0FBT0MsS0FBS0YsV0F3QjNCLE9BdEJBckMsS0FBS3VCLGdCQUFnQkMsU0FBUSxDQUFDZ0IsRUFBVWpDLEtBS3RDLE1BQU1rQyxFQUFZLElBQU9sQyxFQUduQm1DLEVBQWlCSixPQUFPQyxLQUFLRixXQUU3Qk0sRUFBT0wsT0FBT00sV0FBV0MsT0FDN0IsU0FDQSxpUkFHRkgsRUFDR0ksSUFBSU4sRUFBUzNCLFFBQVMsQ0FBRWtDLFFBQVMsSUFDakMzQyxLQUFLb0MsRUFBUzNCLFFBQVMsQ0FBRW1DLFNBQVUsSUFBTUMsR0FBSSxHQUFJTixLQUFBQSxJQUVwRE4sRUFBU3BCLElBQUl5QixFQUFnQkQsTUFHeEJ6QyxNQ3ZEWCxNQUNFLE1BQU1rRCxFQUFzQixJQUFJakQsRUFBYSxRQUFTLElBQ2hEa0QsRUFBc0IsSUFBSWxELEVBQWEsZ0JBQWlCLEdBQUksS0FDNURtRCxFQUFzQixJQUFJbkQsRUFDOUIseUJBQ0EsR0FDQSxLQUdJb0QsRUFBZ0MsSUFBSTdDLEVBQWtCLENBQUMwQyxFQUFPQyxJQUM5REcsRUFBZ0MsSUFBSTlDLEVBQWtCLENBQUM0QyxJQUV2RGxCLEVBQXFCLElBQUl4QixFQUFTLENBQUMyQyxFQUFZQyxJQUUvQ0MsRUFDSnpDLFNBQVMwQyxlQUFlLFlBRXRCRCxHQUM0QyxJQUFJdEIsRUFDaERDLEVBQ0FxQixHQUdlckMsVUF2QnJCLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kaWFsb2d1ZS8uL3NyYy9kaWFsb2d1ZS1sZXR0ZXIudHMiLCJ3ZWJwYWNrOi8vZGlhbG9ndWUvLi9zcmMvZGlhbG9ndWUtd29yZC50cyIsIndlYnBhY2s6Ly9kaWFsb2d1ZS8uL3NyYy9kaWFsb2d1ZS1wYXJhZ3JhcGgudHMiLCJ3ZWJwYWNrOi8vZGlhbG9ndWUvLi9zcmMvZGlhbG9ndWUudHMiLCJ3ZWJwYWNrOi8vZGlhbG9ndWUvLi9zcmMvY3NzLXJlbmRlcmVyL2RpYWxvZ3VlLWxldHRlci1jc3MtcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vZGlhbG9ndWUvLi9zcmMvY3NzLXJlbmRlcmVyL2RpYWxvZ3VlLXdvcmQtY3NzLXJlbmRlcmVyLnRzIiwid2VicGFjazovL2RpYWxvZ3VlLy4vc3JjL2Nzcy1yZW5kZXJlci9kaWFsb2d1ZS1wYXJhZ3JhcGgtY3NzLXJlbmRlcmVyLnRzIiwid2VicGFjazovL2RpYWxvZ3VlLy4vc3JjL2Nzcy1yZW5kZXJlci9kaWFsb2d1ZS1jc3MtcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vZGlhbG9ndWUvLi9kb2NzL3NyYy9kb2NzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElEaWFsb2d1ZUVudGl0eSB9IGZyb20gJy4vZGlhbG9ndWUtZW50aXR5LmludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBEaWFsb2d1ZUxldHRlciBpbXBsZW1lbnRzIElEaWFsb2d1ZUVudGl0eSB7XG4gIGRlbGF5ID0gMDtcblxuICBzcGVlZCA9IDA7XG5cbiAgdGV4dCA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKHRleHQ6IHN0cmluZywgc3BlZWQgPSAwLCBkZWxheSA9IDApIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gIH1cbn1cbiIsImltcG9ydCB7IElEaWFsb2d1ZUVudGl0eSB9IGZyb20gJy4vZGlhbG9ndWUtZW50aXR5LmludGVyZmFjZSc7XG5pbXBvcnQgeyBEaWFsb2d1ZUxldHRlciB9IGZyb20gJy4vZGlhbG9ndWUtbGV0dGVyJztcblxuZXhwb3J0IGNsYXNzIERpYWxvZ3VlV29yZCBpbXBsZW1lbnRzIElEaWFsb2d1ZUVudGl0eSB7XG4gIGRlbGF5ID0gMDtcblxuICBzcGVlZCA9IDA7XG5cbiAgbGV0dGVyczogQXJyYXk8RGlhbG9ndWVMZXR0ZXI+ID0gW107XG5cbiAgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLCBzcGVlZCA9IDAsIGRlbGF5ID0gMCkge1xuICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG5cbiAgICBjb25zdCBsZXR0ZXJzOiBBcnJheTxzdHJpbmc+ID0gQXJyYXkuZnJvbSh0ZXh0KTtcbiAgICB0aGlzLmxldHRlcnMgPSBsZXR0ZXJzLm1hcCgobGV0dGVyOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IERpYWxvZ3VlTGV0dGVyKGxldHRlciwgc3BlZWQsIGRlbGF5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgRGlhbG9ndWVMZXR0ZXIobGV0dGVyLCBzcGVlZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IElEaWFsb2d1ZUVudGl0eSB9IGZyb20gJy4vZGlhbG9ndWUtZW50aXR5LmludGVyZmFjZSc7XG5pbXBvcnQgeyBEaWFsb2d1ZVdvcmQgfSBmcm9tICcuL2RpYWxvZ3VlLXdvcmQnO1xuXG5leHBvcnQgY2xhc3MgRGlhbG9ndWVQYXJhZ3JhcGggaW1wbGVtZW50cyBJRGlhbG9ndWVFbnRpdHkge1xuICBkZWxheSA9IDA7XG5cbiAgc3BlZWQgPSAwO1xuXG4gIHdvcmRzOiBBcnJheTxEaWFsb2d1ZVdvcmQ+ID0gW107XG5cbiAgY29uc3RydWN0b3Iod29yZHM6IEFycmF5PERpYWxvZ3VlV29yZD4sIHNwZWVkID0gMCwgZGVsYXkgPSAwKSB7XG4gICAgdGhpcy53b3JkcyA9IHdvcmRzO1xuICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG5cbiAgICAvLyBUT0RPOiBEZWxheSBmb3IgZmlyc3Qgd29yZFxuICAgIC8qXG4gICAgdGhpcy53b3JkcyA9IHdvcmRzLm1hcCgod29yZDogRGlhbG9ndWVXb3JkLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEaWFsb2d1ZVdvcmQobGV0dGVyLCBzcGVlZCwgZGVsYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEaWFsb2d1ZVdvcmQobGV0dGVyLCBzcGVlZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgKi9cbiAgfVxufVxuIiwiaW1wb3J0IHsgRGlhbG9ndWVQYXJhZ3JhcGggfSBmcm9tICcuL2RpYWxvZ3VlLXBhcmFncmFwaCc7XG5cbmV4cG9ydCBjbGFzcyBEaWFsb2d1ZSB7XG4gIHBhcmFncmFwaHM6IEFycmF5PERpYWxvZ3VlUGFyYWdyYXBoPiA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHBhcmFncmFwaHM6IEFycmF5PERpYWxvZ3VlUGFyYWdyYXBoPikge1xuICAgIHRoaXMucGFyYWdyYXBocyA9IHBhcmFncmFwaHM7XG4gIH1cbn1cbiIsImltcG9ydCB7IERpYWxvZ3VlTGV0dGVyIH0gZnJvbSAnLi4vZGlhbG9ndWUtbGV0dGVyJztcbmltcG9ydCB7IElEaWFsb2d1ZUNzc1JlbmRlcmVyIH0gZnJvbSAnLi9kaWFsb2d1ZS1jc3MtcmVuZGVyZXIuaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIERpYWxvZ3VlTGV0dGVyQ3NzUmVuZGVyZXIgaW1wbGVtZW50cyBJRGlhbG9ndWVDc3NSZW5kZXJlciB7XG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG4gIGxldHRlcjogRGlhbG9ndWVMZXR0ZXI7XG5cbiAgY29uc3RydWN0b3IobGV0dGVyOiBEaWFsb2d1ZUxldHRlcikge1xuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGlhLWRpYWxvZ3VlX19jaGFyYWN0ZXInKTtcblxuICAgIGlmIChsZXR0ZXIudGV4dCA9PT0gJyAnKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGlhLWRpYWxvZ3VlX19jaGFyYWN0ZXItLXNwYWNlJyk7XG4gICAgfVxuXG4gICAgdGhpcy5sZXR0ZXIgPSBsZXR0ZXI7XG4gIH1cblxuICByZW5kZXIoKTogRGlhbG9ndWVMZXR0ZXJDc3NSZW5kZXJlciB7XG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMubGV0dGVyLnRleHQpKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG4iLCJpbXBvcnQgeyBEaWFsb2d1ZUxldHRlckNzc1JlbmRlcmVyIH0gZnJvbSAnLi9kaWFsb2d1ZS1sZXR0ZXItY3NzLXJlbmRlcmVyJztcbmltcG9ydCB7IERpYWxvZ3VlV29yZCB9IGZyb20gJy4uL2RpYWxvZ3VlLXdvcmQnO1xuaW1wb3J0IHsgSURpYWxvZ3VlQ3NzUmVuZGVyZXIgfSBmcm9tICcuL2RpYWxvZ3VlLWNzcy1yZW5kZXJlci5pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgRGlhbG9ndWVXb3JkQ3NzUmVuZGVyZXIgaW1wbGVtZW50cyBJRGlhbG9ndWVDc3NSZW5kZXJlciB7XG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG4gIGxldHRlclJlbmRlcmVyczogQXJyYXk8RGlhbG9ndWVMZXR0ZXJDc3NSZW5kZXJlcj4gPSBbXTtcblxuICB3b3JkOiBEaWFsb2d1ZVdvcmQ7XG5cbiAgY29uc3RydWN0b3Iod29yZDogRGlhbG9ndWVXb3JkKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkaWEtZGlhbG9ndWVfX3dvcmQnKTtcbiAgICB0aGlzLndvcmQgPSB3b3JkO1xuICB9XG5cbiAgcmVuZGVyKCk6IERpYWxvZ3VlV29yZENzc1JlbmRlcmVyIHtcbiAgICB0aGlzLndvcmQubGV0dGVycy5mb3JFYWNoKChsZXR0ZXIpID0+IHtcbiAgICAgIGNvbnN0IGxldHRlclJlbmRlcmVyID0gbmV3IERpYWxvZ3VlTGV0dGVyQ3NzUmVuZGVyZXIobGV0dGVyKTtcblxuICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGxldHRlclJlbmRlcmVyLnJlbmRlcigpLmVsZW1lbnQpO1xuICAgICAgdGhpcy5sZXR0ZXJSZW5kZXJlcnMucHVzaChsZXR0ZXJSZW5kZXJlcik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGlhbG9ndWVMZXR0ZXJDc3NSZW5kZXJlciB9IGZyb20gJy4vZGlhbG9ndWUtbGV0dGVyLWNzcy1yZW5kZXJlcic7XG5pbXBvcnQgeyBEaWFsb2d1ZVBhcmFncmFwaCB9IGZyb20gJy4uL2RpYWxvZ3VlLXBhcmFncmFwaCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVdvcmRDc3NSZW5kZXJlciB9IGZyb20gJy4vZGlhbG9ndWUtd29yZC1jc3MtcmVuZGVyZXInO1xuaW1wb3J0IHsgSURpYWxvZ3VlQ3NzUmVuZGVyZXIgfSBmcm9tICcuL2RpYWxvZ3VlLWNzcy1yZW5kZXJlci5pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgRGlhbG9ndWVQYXJhZ3JhcGhDc3NSZW5kZXJlciBpbXBsZW1lbnRzIElEaWFsb2d1ZUNzc1JlbmRlcmVyIHtcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbiAgbGV0dGVyUmVuZGVyZXJzOiBBcnJheTxEaWFsb2d1ZUxldHRlckNzc1JlbmRlcmVyPiA9IFtdO1xuXG4gIHBhcmFncmFwaDogRGlhbG9ndWVQYXJhZ3JhcGg7XG5cbiAgd29yZFJlbmRlcmVyczogQXJyYXk8RGlhbG9ndWVXb3JkQ3NzUmVuZGVyZXI+ID0gW107XG5cbiAgY29uc3RydWN0b3IocGFyYWdyYXBoOiBEaWFsb2d1ZVBhcmFncmFwaCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGlhLWRpYWxvZ3VlX19wYXJhZ3JhcGgnKTtcbiAgICB0aGlzLnBhcmFncmFwaCA9IHBhcmFncmFwaDtcbiAgfVxuXG4gIHJlbmRlcigpOiBEaWFsb2d1ZVBhcmFncmFwaENzc1JlbmRlcmVyIHtcbiAgICB0aGlzLnBhcmFncmFwaC53b3Jkcy5mb3JFYWNoKCh3b3JkLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qgd29yZFJlbmRlcmVyID0gbmV3IERpYWxvZ3VlV29yZENzc1JlbmRlcmVyKHdvcmQpO1xuXG4gICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQod29yZFJlbmRlcmVyLnJlbmRlcigpLmVsZW1lbnQpO1xuXG4gICAgICAvLyBBZGQgYSBzcGFjZSBhZnRlciBlYWNoIHdvcmQgZXhjZXB0IHRoZSBsYXN0IG9uZVxuICAgICAgaWYgKGluZGV4ICE9PSB0aGlzLnBhcmFncmFwaC53b3Jkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy53b3JkUmVuZGVyZXJzLnB1c2god29yZFJlbmRlcmVyKTtcbiAgICAgIHRoaXMubGV0dGVyUmVuZGVyZXJzID0gdGhpcy5sZXR0ZXJSZW5kZXJlcnMuY29uY2F0KFxuICAgICAgICB3b3JkUmVuZGVyZXIubGV0dGVyUmVuZGVyZXJzXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiIsImRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgQ3VzdG9tRWFzZTogYW55O1xuICAgIGdzYXA6IGFueTtcbiAgfVxufVxuXG5pbXBvcnQgeyBEaWFsb2d1ZSB9IGZyb20gJy4uL2RpYWxvZ3VlJztcbmltcG9ydCB7IElEaWFsb2d1ZUNzc1JlbmRlcmVyIH0gZnJvbSAnLi9kaWFsb2d1ZS1jc3MtcmVuZGVyZXIuaW50ZXJmYWNlJztcbmltcG9ydCB7IERpYWxvZ3VlTGV0dGVyQ3NzUmVuZGVyZXIgfSBmcm9tICcuL2RpYWxvZ3VlLWxldHRlci1jc3MtcmVuZGVyZXInO1xuaW1wb3J0IHsgRGlhbG9ndWVQYXJhZ3JhcGhDc3NSZW5kZXJlciB9IGZyb20gJy4vZGlhbG9ndWUtcGFyYWdyYXBoLWNzcy1yZW5kZXJlcic7XG5cbmV4cG9ydCBjbGFzcyBEaWFsb2d1ZUNzc1JlbmRlcmVyIGltcGxlbWVudHMgSURpYWxvZ3VlQ3NzUmVuZGVyZXIge1xuICBkaWFsb2d1ZTogRGlhbG9ndWU7XG5cbiAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbiAgbGV0dGVyUmVuZGVyZXJzOiBBcnJheTxEaWFsb2d1ZUxldHRlckNzc1JlbmRlcmVyPiA9IFtdO1xuXG4gIHBhcmFncmFwaFJlbmRlcmVyczogQXJyYXk8RGlhbG9ndWVQYXJhZ3JhcGhDc3NSZW5kZXJlcj4gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihkaWFsb2d1ZTogRGlhbG9ndWUsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgdGhpcy5kaWFsb2d1ZSA9IGRpYWxvZ3VlO1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cblxuICByZW5kZXIoKTogRGlhbG9ndWVDc3NSZW5kZXJlciB7XG4gICAgdGhpcy5kaWFsb2d1ZS5wYXJhZ3JhcGhzLmZvckVhY2goKHBhcmFncmFwaCkgPT4ge1xuICAgICAgY29uc3QgcGFyYWdyYXBoUmVuZGVyZXIgPSBuZXcgRGlhbG9ndWVQYXJhZ3JhcGhDc3NSZW5kZXJlcihwYXJhZ3JhcGgpO1xuXG4gICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQocGFyYWdyYXBoUmVuZGVyZXIucmVuZGVyKCkuZWxlbWVudCk7XG4gICAgICB0aGlzLnBhcmFncmFwaFJlbmRlcmVycy5wdXNoKHBhcmFncmFwaFJlbmRlcmVyKTtcbiAgICAgIHRoaXMubGV0dGVyUmVuZGVyZXJzID0gdGhpcy5sZXR0ZXJSZW5kZXJlcnMuY29uY2F0KFxuICAgICAgICBwYXJhZ3JhcGhSZW5kZXJlci5sZXR0ZXJSZW5kZXJlcnNcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICAvLyBUaW1lbGluZVxuICAgIGxldCB0aW1lbGluZSA9IHdpbmRvdy5nc2FwLnRpbWVsaW5lKCk7XG5cbiAgICB0aGlzLmxldHRlclJlbmRlcmVycy5mb3JFYWNoKChyZW5kZXJlciwgaW5kZXgpID0+IHtcbiAgICAgIC8vIFRPRE86IEZhY3RvciBvdXQgZGlmZmVyZW50IHdheXMgb2YgcmVuZGVyaW5nXG5cbiAgICAgIC8vIG51bWJlciBpbiBzZWNvbmRzXG4gICAgICAvLyBjb25zdCBkZWxheSA9IDAuMDIwIC8vKHJlbmRlcmVyLmxldHRlci5zcGVlZCArIHJlbmRlcmVyLmxldHRlci5kZWxheSkgLyAxMDAwIDtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IDAuMDIgKiBpbmRleDtcblxuICAgICAgLy8gVGltZWxpbmVcbiAgICAgIGNvbnN0IGxldHRlclRpbWVsaW5lID0gd2luZG93LmdzYXAudGltZWxpbmUoKTtcblxuICAgICAgY29uc3QgZWFzZSA9IHdpbmRvdy5DdXN0b21FYXNlLmNyZWF0ZShcbiAgICAgICAgJ2N1c3RvbScsXG4gICAgICAgICdNMCwwIEMwLjM0LDAuMTE0IDAuMzYyLDAuOTAyIDAuMzYyLDEgMC4zNywwLjk4NSAwLjQxNCwwLjg3MyAwLjQ1NSwwLjgxMSAwLjUxLDAuNzI2IDAuNTczLDAuNzUzIDAuNTg2LDAuNzYyIDAuNjYyLDAuODEyIDAuNzE5LDAuOTgxIDAuNzI2LDAuOTk4IDAuNzg4LDAuOTE0IDAuODQsMC45MzYgMC44NTksMC45NSAwLjg3OCwwLjk2NCAwLjg5NywwLjk4NSAwLjkxMSwwLjk5OCAwLjkyMiwwLjk5NCAwLjkzOSwwLjk4NCAwLjk1NCwwLjk4NCAwLjk2OSwwLjk4NCAxLDEgMSwxICdcbiAgICAgICk7XG5cbiAgICAgIGxldHRlclRpbWVsaW5lXG4gICAgICAgIC5zZXQocmVuZGVyZXIuZWxlbWVudCwgeyBvcGFjaXR5OiAxIH0pXG4gICAgICAgIC5mcm9tKHJlbmRlcmVyLmVsZW1lbnQsIHsgZHVyYXRpb246IDAuOTUsIHk6IC0xMCwgZWFzZSB9KTtcblxuICAgICAgdGltZWxpbmUuYWRkKGxldHRlclRpbWVsaW5lLCBzdGFydFRpbWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKlxuICAgIGJvdW5jZSAocmVuZGVyZXIsIHRpbWVsaW5lKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGV0dGVyUmVuZGVyZXJzLmZvckVhY2goKHJlbmRlcmVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgLy8gVE9ETzogRmFjdG9yIG91dCBkaWZmZXJlbnQgd2F5cyBvZiByZW5kZXJpbmdcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gbnVtYmVyIGluIHNlY29uZHNcbiAgICAgICAgICAgIC8vIGNvbnN0IGRlbGF5ID0gMC4wMjAgLy8ocmVuZGVyZXIubGV0dGVyLnNwZWVkICsgcmVuZGVyZXIubGV0dGVyLmRlbGF5KSAvIDEwMDAgO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gMC4wMjAgKiBpbmRleDtcblxuICAgICAgICAgICAgLy8gVGltZWxpbmVcbiAgICAgICAgICAgIGNvbnN0IGxldHRlclRpbWVsaW5lID0gd2luZG93LmdzYXAudGltZWxpbmUoKTtcblxuICAgICAgICAgICAgY29uc3QgZWFzZSA9IHdpbmRvdy5DdXN0b21FYXNlLmNyZWF0ZShcImN1c3RvbVwiLCBcIk0wLDAgQzAuMzQsMC4xMTQgMC4zNjIsMC45MDIgMC4zNjIsMSAwLjM3LDAuOTg1IDAuNDE0LDAuODczIDAuNDU1LDAuODExIDAuNTEsMC43MjYgMC41NzMsMC43NTMgMC41ODYsMC43NjIgMC42NjIsMC44MTIgMC43MTksMC45ODEgMC43MjYsMC45OTggMC43ODgsMC45MTQgMC44NCwwLjkzNiAwLjg1OSwwLjk1IDAuODc4LDAuOTY0IDAuODk3LDAuOTg1IDAuOTExLDAuOTk4IDAuOTIyLDAuOTk0IDAuOTM5LDAuOTg0IDAuOTU0LDAuOTg0IDAuOTY5LDAuOTg0IDEsMSAxLDEgXCIpO1xuXG4gICAgICAgICAgICBsZXR0ZXJUaW1lbGluZVxuICAgICAgICAgICAgICAgIC5zZXQocmVuZGVyZXIuZWxlbWVudCwgeyBvcGFjaXR5OiAxIH0pXG4gICAgICAgICAgICAgICAgLmZyb20ocmVuZGVyZXIuZWxlbWVudCwgeyBkdXJhdGlvbjogMC45NTAsIHk6IC0xMCwgZWFzZSB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGltZWxpbmUuYWRkKGxldHRlclRpbWVsaW5lLCBzdGFydFRpbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgKi9cbn1cbiIsImltcG9ydCB7XG4gIERpYWxvZ3VlLFxuICBEaWFsb2d1ZUNzc1JlbmRlcmVyLFxuICBEaWFsb2d1ZVBhcmFncmFwaCxcbiAgRGlhbG9ndWVXb3JkLFxufSBmcm9tICcuLi8uLi9lc20vaW5kZXgnO1xuXG4oKCkgPT4ge1xuICBjb25zdCB3b3JkMTogRGlhbG9ndWVXb3JkID0gbmV3IERpYWxvZ3VlV29yZCgnSGkuLi4nLCA1MCk7XG4gIGNvbnN0IHdvcmQyOiBEaWFsb2d1ZVdvcmQgPSBuZXcgRGlhbG9ndWVXb3JkKFwiSSdtIGRpYWxvZ3VlLlwiLCA1MCwgNzUwKTtcbiAgY29uc3Qgd29yZDM6IERpYWxvZ3VlV29yZCA9IG5ldyBEaWFsb2d1ZVdvcmQoXG4gICAgXCJBbmQgSSdtIGEgc2Vjb25kIGxpbmUuXCIsXG4gICAgNTAsXG4gICAgMTAwMFxuICApO1xuXG4gIGNvbnN0IHBhcmFncmFwaDE6IERpYWxvZ3VlUGFyYWdyYXBoID0gbmV3IERpYWxvZ3VlUGFyYWdyYXBoKFt3b3JkMSwgd29yZDJdKTtcbiAgY29uc3QgcGFyYWdyYXBoMjogRGlhbG9ndWVQYXJhZ3JhcGggPSBuZXcgRGlhbG9ndWVQYXJhZ3JhcGgoW3dvcmQzXSk7XG5cbiAgY29uc3QgZGlhbG9ndWU6IERpYWxvZ3VlID0gbmV3IERpYWxvZ3VlKFtwYXJhZ3JhcGgxLCBwYXJhZ3JhcGgyXSk7XG5cbiAgY29uc3QgZGlhbG9ndWVFbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2d1ZScpO1xuXG4gIGlmIChkaWFsb2d1ZUVsZW1lbnQpIHtcbiAgICBjb25zdCBkaWFsb2d1ZVJlbmRlcmVyOiBEaWFsb2d1ZUNzc1JlbmRlcmVyID0gbmV3IERpYWxvZ3VlQ3NzUmVuZGVyZXIoXG4gICAgICBkaWFsb2d1ZSxcbiAgICAgIGRpYWxvZ3VlRWxlbWVudFxuICAgICk7XG5cbiAgICBkaWFsb2d1ZVJlbmRlcmVyLnJlbmRlcigpO1xuICB9XG59KSgpO1xuIl0sIm5hbWVzIjpbIkRpYWxvZ3VlTGV0dGVyIiwiY29uc3RydWN0b3IiLCJ0ZXh0Iiwic3BlZWQiLCJkZWxheSIsInRoaXMiLCJEaWFsb2d1ZVdvcmQiLCJsZXR0ZXJzIiwiQXJyYXkiLCJmcm9tIiwibWFwIiwibGV0dGVyIiwiaW5kZXgiLCJEaWFsb2d1ZVBhcmFncmFwaCIsIndvcmRzIiwiRGlhbG9ndWUiLCJwYXJhZ3JhcGhzIiwiRGlhbG9ndWVMZXR0ZXJDc3NSZW5kZXJlciIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW5kZXIiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiRGlhbG9ndWVXb3JkQ3NzUmVuZGVyZXIiLCJ3b3JkIiwibGV0dGVyUmVuZGVyZXJzIiwiZm9yRWFjaCIsImxldHRlclJlbmRlcmVyIiwicHVzaCIsIkRpYWxvZ3VlUGFyYWdyYXBoQ3NzUmVuZGVyZXIiLCJwYXJhZ3JhcGgiLCJ3b3JkUmVuZGVyZXJzIiwid29yZFJlbmRlcmVyIiwibGVuZ3RoIiwiY29uY2F0IiwiRGlhbG9ndWVDc3NSZW5kZXJlciIsImRpYWxvZ3VlIiwicGFyYWdyYXBoUmVuZGVyZXJzIiwicGFyYWdyYXBoUmVuZGVyZXIiLCJ0aW1lbGluZSIsIndpbmRvdyIsImdzYXAiLCJyZW5kZXJlciIsInN0YXJ0VGltZSIsImxldHRlclRpbWVsaW5lIiwiZWFzZSIsIkN1c3RvbUVhc2UiLCJjcmVhdGUiLCJzZXQiLCJvcGFjaXR5IiwiZHVyYXRpb24iLCJ5Iiwid29yZDEiLCJ3b3JkMiIsIndvcmQzIiwicGFyYWdyYXBoMSIsInBhcmFncmFwaDIiLCJkaWFsb2d1ZUVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJzb3VyY2VSb290IjoiIn0=